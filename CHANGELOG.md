# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [0.11.0-dev.13](https://github.com/webtides/luna-js/compare/v0.11.0-dev.12...v0.11.0-dev.13) (2022-07-11)

**Note:** Version bump only for package luna-js-monorepo





# [0.11.0-dev.12](https://github.com/webtides/luna-js/compare/v0.11.0-dev.11...v0.11.0-dev.12) (2022-05-23)


### Features

* Added functionality to execute a method on the server from the client  ([85d8632](https://github.com/webtides/luna-js/commit/85d8632787cb793d28767334ab2c4724a35d2b73))





# [0.11.0-dev.11](https://github.com/webtides/luna-js/compare/v0.11.0-dev.10...v0.11.0-dev.11) (2022-05-20)


### Features

* load static properties for client side elements too. ([#109](https://github.com/webtides/luna-js/issues/109)) ([47b2545](https://github.com/webtides/luna-js/commit/47b2545cfeeb76b36f3fe2a3d069558c0bcf3586))





# [0.11.0-dev.10](https://github.com/webtides/luna-js/compare/v0.11.0-dev.9...v0.11.0-dev.10) (2022-05-15)

**Note:** Version bump only for package luna-js-monorepo





# [0.11.0-dev.9](https://github.com/webtides/luna-js/compare/v0.11.0-dev.8...v0.11.0-dev.9) (2022-05-15)


### Features

* Allow returning custom response from dynamic property loading ([#107](https://github.com/webtides/luna-js/issues/107)) ([c3704c1](https://github.com/webtides/luna-js/commit/c3704c18855344e05bb7f9485555ffa57dbf6ae5))





# [0.11.0-dev.8](https://github.com/webtides/luna-js/compare/v0.11.0-dev.7...v0.11.0-dev.8) (2022-04-23)


### Bug Fixes

* removed legacy fixtures and fixes static export test ([#106](https://github.com/webtides/luna-js/issues/106)) ([72ae37c](https://github.com/webtides/luna-js/commit/72ae37cee0309cb98e54392b0dcb3f37c5d9e296))


### Features

* bundle the framework without starting luna to allow custom handers ([#105](https://github.com/webtides/luna-js/issues/105)) ([1006300](https://github.com/webtides/luna-js/commit/1006300a522f0794a12744ecebe299fe970635c2))





# [0.11.0-dev.7](https://github.com/webtides/luna-js/compare/v0.11.0-dev.6...v0.11.0-dev.7) (2022-04-05)

**Note:** Version bump only for package luna-js-monorepo





# [0.11.0-dev.6](https://github.com/webtides/luna-js/compare/v0.11.0-dev.5...v0.11.0-dev.6) (2022-04-04)

**Note:** Version bump only for package luna-js-monorepo





# [0.11.0-dev.5](https://github.com/webtides/luna-js/compare/v0.11.0-dev.4...v0.11.0-dev.5) (2022-02-11)

### Features

-   Allow put/delete requests in api routes ([#101](https://github.com/webtides/luna-js/issues/101)) ([b4687cd](https://github.com/webtides/luna-js/commit/b4687cd12e5d938885772999780a171a4b9a0f62))

# [0.11.0-dev.4](https://github.com/webtides/luna-js/compare/v0.11.0-dev.3...v0.11.0-dev.4) (2022-02-09)

### Bug Fixes

-   Upated markdown plugin implemeted correctly & updated babel ([#99](https://github.com/webtides/luna-js/issues/99)) ([cbb9a6e](https://github.com/webtides/luna-js/commit/cbb9a6eec9841fd9db2a8930aa8496cb2e140a04))

# [0.11.0-dev.3](https://github.com/webtides/luna-js/compare/v0.6.0...v0.11.0-dev.3) (2022-02-09)

### Bug Fixes

-   Build renderer and clean working tree before publishing ([1c6dcf4](https://github.com/webtides/luna-js/commit/1c6dcf4f2fb07d8d95062e62d701fdecdb10b110))
-   **csr:** deferUpdate by default to prevent initial flickering ([445b65c](https://github.com/webtides/luna-js/commit/445b65cc479bf0a1ed0ea1b58ea842157f18bace))
-   don't crash if layout cannot be loaded ([19461a2](https://github.com/webtides/luna-js/commit/19461a2892ae45bdb84073e0cec8af912e7277c7))
-   Fixed the static copy task ([6e631f7](https://github.com/webtides/luna-js/commit/6e631f78f8a6e8d118847a139847f382862a4cc8))
-   Fixed the static copy task ([cadf1f6](https://github.com/webtides/luna-js/commit/cadf1f65e57b02f5252795441bc7f22203d99a21))
-   remove 'lib' from ignored foldres in renderer ([6c5f5bc](https://github.com/webtides/luna-js/commit/6c5f5bc39681a32dbe77d21e11ebdfb83a3dc02d))
-   Removed obsolete yarn.lock files ([350656b](https://github.com/webtides/luna-js/commit/350656b584f30f669e9ea7a1a35b817838b6d377))
-   Removed the peerDependencies entry in the package.json ([#86](https://github.com/webtides/luna-js/issues/86)) ([5962e36](https://github.com/webtides/luna-js/commit/5962e361e2efea652310acf480d9ff337c5bbfca))
-   run publish action only on push ([f87ddd0](https://github.com/webtides/luna-js/commit/f87ddd0f120f664452a7f28be2e14be78fe64112))
-   The 'false' text is not showing up on every page anymore ([#85](https://github.com/webtides/luna-js/issues/85)) ([b4648ff](https://github.com/webtides/luna-js/commit/b4648ff97292be68d0c52f919621746e37f2d25f))
-   uses dist-tag dev for publishing from develop branch ([#84](https://github.com/webtides/luna-js/issues/84)) ([3d5cc89](https://github.com/webtides/luna-js/commit/3d5cc894b39ee65191cba2f69d374fac67a8258f))

### Features

-   automate package releases and use yarn workspaces ([#78](https://github.com/webtides/luna-js/issues/78)) ([d0163a0](https://github.com/webtides/luna-js/commit/d0163a06f78758dbf466b386541aca0427f8628b))
-   Load postcss config if available and added support for postcss 'dir-dependency' message ([#100](https://github.com/webtides/luna-js/issues/100)) ([0b7aa23](https://github.com/webtides/luna-js/commit/0b7aa2322c73d64990d3243f8eee2ee2c27f8c71))

# [0.11.0-dev.2](https://github.com/webtides/luna-js/compare/v0.11.0-dev.1...v0.11.0-dev.2) (2022-02-07)

**Note:** Version bump only for package luna-js-monorepo

# [0.11.0-dev.1](https://github.com/webtides/luna-js/compare/v0.11.0-dev.0...v0.11.0-dev.1) (2022-02-07)

### Bug Fixes

-   Removed obsolete yarn.lock files ([01a4021](https://github.com/webtides/luna-js/commit/01a40210ab9fa7c6640c90dd2ba154a554cdfd6f))

# [0.11.0-dev.0](https://github.com/webtides/luna-js/compare/v0.6.0...v0.11.0-dev.0) (2022-02-07)

### Bug Fixes

-   Build renderer and clean working tree before publishing ([1c6dcf4](https://github.com/webtides/luna-js/commit/1c6dcf4f2fb07d8d95062e62d701fdecdb10b110))
-   **csr:** deferUpdate by default to prevent initial flickering ([445b65c](https://github.com/webtides/luna-js/commit/445b65cc479bf0a1ed0ea1b58ea842157f18bace))
-   don't crash if layout cannot be loaded ([19461a2](https://github.com/webtides/luna-js/commit/19461a2892ae45bdb84073e0cec8af912e7277c7))
-   Fixed the static copy task ([6e631f7](https://github.com/webtides/luna-js/commit/6e631f78f8a6e8d118847a139847f382862a4cc8))
-   Fixed the static copy task ([cadf1f6](https://github.com/webtides/luna-js/commit/cadf1f65e57b02f5252795441bc7f22203d99a21))
-   remove 'lib' from ignored foldres in renderer ([6c5f5bc](https://github.com/webtides/luna-js/commit/6c5f5bc39681a32dbe77d21e11ebdfb83a3dc02d))
-   Removed the peerDependencies entry in the package.json ([#86](https://github.com/webtides/luna-js/issues/86)) ([5962e36](https://github.com/webtides/luna-js/commit/5962e361e2efea652310acf480d9ff337c5bbfca))
-   run publish action only on push ([de65bde](https://github.com/webtides/luna-js/commit/de65bde0341c9899182012459ee2a357f75431dc))
-   The 'false' text is not showing up on every page anymore ([#85](https://github.com/webtides/luna-js/issues/85)) ([b4648ff](https://github.com/webtides/luna-js/commit/b4648ff97292be68d0c52f919621746e37f2d25f))
-   uses dist-tag dev for publishing from develop branch ([#84](https://github.com/webtides/luna-js/issues/84)) ([3d5cc89](https://github.com/webtides/luna-js/commit/3d5cc894b39ee65191cba2f69d374fac67a8258f))

### Features

-   automate package releases and use yarn workspaces ([#78](https://github.com/webtides/luna-js/issues/78)) ([d0163a0](https://github.com/webtides/luna-js/commit/d0163a06f78758dbf466b386541aca0427f8628b))

## [0.10.1-dev.0](https://github.com/webtides/luna-js/compare/v0.10.0...v0.10.1-dev.0) (2022-02-07)

### Bug Fixes

-   The 'false' text is not showing up on every page anymore ([#85](https://github.com/webtides/luna-js/issues/85)) ([24f08ab](https://github.com/webtides/luna-js/commit/24f08ab9c2996f2f4008e233bc2ab7911fe54a1f))

# [0.10.0](https://github.com/webtides/luna-js/compare/v0.10.0-dev.2...v0.10.0) (2022-02-07)

### Bug Fixes

-   Removed the peerDependencies entry in the package.json ([#86](https://github.com/webtides/luna-js/issues/86)) ([dc7ae53](https://github.com/webtides/luna-js/commit/dc7ae53939197aac68ea4f617e4da649fd55bce4))

# [0.10.0-dev.2](https://github.com/webtides/luna-js/compare/v0.10.0-dev.1...v0.10.0-dev.2) (2022-02-02)

### Bug Fixes

-   uses dist-tag dev for publishing from develop branch ([#84](https://github.com/webtides/luna-js/issues/84)) ([a835845](https://github.com/webtides/luna-js/commit/a8358453d073cacb5719c05764f3f59d73187b09))

# [0.10.0-dev.1](https://github.com/webtides/luna-js/compare/v0.10.0-dev.0...v0.10.0-dev.1) (2022-02-02)

**Note:** Version bump only for package luna-js-monorepo

# [0.10.0-dev.0](https://github.com/webtides/luna-js/compare/v0.6.0...v0.10.0-dev.0) (2022-02-01)

### Bug Fixes

-   Build renderer and clean working tree before publishing ([4e0121c](https://github.com/webtides/luna-js/commit/4e0121c876484498d8bb9ac0471764af0542368f))
-   **csr:** deferUpdate by default to prevent initial flickering ([445b65c](https://github.com/webtides/luna-js/commit/445b65cc479bf0a1ed0ea1b58ea842157f18bace))
-   don't crash if layout cannot be loaded ([e2a17c1](https://github.com/webtides/luna-js/commit/e2a17c15fd96b337e9aa54dde1bd5e8c298e5463))
-   Fixed the static copy task ([6e631f7](https://github.com/webtides/luna-js/commit/6e631f78f8a6e8d118847a139847f382862a4cc8))
-   Fixed the static copy task ([cadf1f6](https://github.com/webtides/luna-js/commit/cadf1f65e57b02f5252795441bc7f22203d99a21))
-   remove 'lib' from ignored foldres in renderer ([0700d69](https://github.com/webtides/luna-js/commit/0700d6900535fc623a8be773b439189396ecd36a))

### Features

-   automate package releases and use yarn workspaces ([#78](https://github.com/webtides/luna-js/issues/78)) ([beb17ab](https://github.com/webtides/luna-js/commit/beb17ab65e0f606b9d54340821881a7beca6d40d))

# Changelog

## [Unreleased] Luna

### Changed

-   Use posthtml for building the server document instead of jsdom (better performance)
-   Removed prepublish step
-   **BREAKING**: remove all dependencies to `element-js` and `lit-html` from the luna project and made the template and element renderer exchangeable
-   **BREAKING**: removed `LunaElement`, `LunaMarkdownElement`, `html` and `unsafeHTML`
-   **BREAKING**: Elements are now server only per default, and the developer needs to opt-in to client rendering
-   **BREAKING**: Layouts can now be loaded by a string and has a fallback for a default (#68)
-   **BREAKING**: Removed the legacy build (#71)
-   The `luna.config.js` can now be written in ES syntax

### Added

-   Allow `.attribute` notation for server rendered components
-   Several Decorators (`Component`, `Inject`, `LunaService`, `HideFromClient`, `CurrentRequest`)
-   `ElementFactory` for defining how an element should be rendered on the server
-   Allow the developer to define a default target for each component bundle
-   Support for sourcemaps and debugging in the browser and in node (#55)

### Fixed

-   Renderer path replacements
-   Luna lifecycle for
-   Attribute and property parsing (#65)
-   You can now export additional functions in a component

## [Unreleased] CLI

### Fixed

-   Copy plugin does not crash if an empty object is provided
-   Entry point for using in production
-   The entrypoint to start luna without the cli

### Added

-   Simple component example

### Changed

-   Component build won't run twice on each start
-   The `--dev` build will now also use the generated entry point
-   Layouts will be prebuilt and added to the manifest (#68)

## [Unreleased] Renderer

### Added

-   A package in which multiple template renderers and element factories for different base classes could be developed
-   Support for element-js vanilla renderer (#76)

### Changed

-   Use more shared logic from the BaseLayoutFactory (#65)

## [0.8.1] Luna - 22.01.2022

### Changed

-   Upgraded packages

## [0.8.1] CLI - 22.01.2022

### Changed

-   Upgraded packages

## [0.8.0] Luna - 10.06.2021

### Changed

-   Core services are now class based and injectable (#50)
-   **BREAKING**: `startServer` is now `startLuna`
-   **BREAKING**: `stopServer` is now `stopLuna`
-   **BREAKING**: `prepareLuna` is now exported from `framework/index.js`
-   Elements are marked as "defer update" per default

### Added

-   Really simple dependency injection container
-   The ability to override the default cache provider (#47)
-   Decorators for dependency injection (#50)
-   You can pass an additional `config` object to lunas `startLuna`

## [0.8.0] CLI - 10.06.2021

### Changed

-   Static export is now running in chunks for better performance
-   Use yarn for local development for better linking functionality

### Fixed

-   Build does not crash anymore if a file is added / removed (#46)

## [0.7.5] CLI - 20.05.2021

### Added

-   Allow copying a single file in the static sources and export tasks

## [0.7.3] CLI -

### Added

-   Clear the output/api directory before exporting
-   Clear the build directory before exporting

## [0.7.2] CLI - 04.04.2021

### Added

-   Test for static copy task

### Fixed

-   Static copy task

## [0.7.1] - 03.04.2021

### Added

-   Really basic livereload functionality (#39)
-   Dynamic entry points for static export (#38)

### Changed

-   Internally renamed occurences of moonCli to lunaCli

## [0.7.0] - 24.03.2021

### Added

-   Test setup with coverage report (#30)
-   An option to the luna.config.js to exclude dependencies from the api build (#29)

## Changed

-   Put the cli and the base framework back into the same monorepo, but in different (npm) packages (#30)
-   **BREAKING**: If something is imported directly from the `lib/packages` directory, the `packages` part must be omitted
-   Sorting routes and setting route parameters is now done by the cli in the build step (#32)
-   **BREAKING**: Cleaned up luna.config.js (#25)

## [0.6.0] - 15.03.2021

### Added

-   Concept for middleware for specific routes (#21)
-   Route based caching (#24)

### Changed

-   Allow multiple dynamic route params
-   **BREAKING**: renamed moon-js to luna-js to prevent naming clash
    -   MoonElement -> LunaElement
    -   MoonDownElement -> LunaMarkdownElement
    -   moon.config.js -> luna.config.js
    -   import _ from '@webtides/moon-js' -> import _ from '@webtides/luna-js'
    -   `moon` cli command is now `luna`
-   **BREAKING**: postcss-plugins in luna.config.js must be a function returning an array

## [0.5.1] - 10.03.2021

### Fixed

-   Various bug fixes

## [0.5.0] - 10.03.2021

### Added

-   Configurable asset and api context path and domain (#17, #18)
-   Global luna-js config object for server and client (#13)

## [0.4.0] -

### Added

-   Publishing to npm (#7)
-   Changelog

### Changed

-   `postcssPlugins` in `moon.config.js` are now a function. that returns the plugins, instead of an array
-   Splitted project in a main package (`@webtides/moon-js`) and a cli package (`@webtides/moon-cli`) (#6)
-   Made page components work more close the same as other component (#9, #10)
-   Improved layout functionality (#4)
    -   **BREAKING**: luna-js does not export layouts anymore directly
    -   **BREAKING**: layouts now want two parameters: page & context

### Deprecated

-   `scripts`-area in custom layouts
